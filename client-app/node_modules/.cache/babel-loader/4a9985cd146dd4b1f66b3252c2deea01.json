{"ast":null,"code":"import _slicedToArray from\"/Users/aristos/Documents/Fall_2021/COEN_241/CloudComputingTermProject/client-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{BrowserRouter as Router,Routes,Route,Link}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import Login from\"./pages/Login\";import Dashboard from\"./pages/Dashboard\";import CreateEvent1 from\"./pages/CreateEvent1\";import CreateEvent2 from\"./pages/CreateEvent2\";import Event from\"./pages/Event\";import ErrorPage from\"./pages/ErrorPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){/*--------------Login----------------*/var navigate=useNavigate();var _useState=useState({username:\"\",email:\"\",id:0}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),event=_useState6[0],setEvent=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),timeslots=_useState8[0],setTimeslots=_useState8[1];var loadEvent=function loadEvent(eventDetails){//axios post to get timeslots json object\n//need to restructure object to be:\n// collaborator0: [timeslot0, timeslot1, ...]\n// collaborator1\n// let server handle parsing the data and making object\nsetEvent(eventDetails);//pass event details to event page\n// axios.post(\"http://localhost:4000/api/retrieve-timeslots\", {eventDetails})\n//   .then(response => {\n//     if (response.data) {\n//       console.log(\"Timeslots received\");\n//       setError(\"\")\n//       setTimeslots(response.data)  \n//       console.log(\"Timeslots\" + response.data) \n//       navigate(`/event/${eventDetails.userid}`)\n//     } else {\n//       console.log(\"Couldn't retrieve-timeslots\")\n//       setError(\"Couldn't retrieve-timeslots\")\n//     }\n//   })\n//   .catch(error => {\n//     console.log(error)\n//     setError(error.message)\n//   }) \n};var Loginx=function Loginx(details){console.log(details);//check if credentials are correct\n//should send data to noded js to see if logged in.\n//\naxios.post(\"http://localhost:4000/api/login\",details).then(function(response){if(response.data.isValid){console.log(\"Logged in\");setError(\"\");setUser({//all these work\nusername:details.username,email:response.data.email,id:response.data.id});console.log(\"User=\"+response.data.id);//React router redirect to dashboard\nnavigate(\"/dashboard\");}else{console.log(\"Credentials do not match\");setError(\"Credentials do not match\");}}).catch(function(error){console.log(error);setError(error.message);});};var Logout=function Logout(){setUser({username:\"\",email:\"\"});navigate(\"/\");console.log(\"Logout\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/create-event-1\",children:\"Create-Event-1\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/event\",children:\"Event\"})})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Login,{Login:Loginx,error:error})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{error:error,setError:setError,user:user,Logout:Logout,navigate:navigate,loadEvent:loadEvent})}),/*#__PURE__*/_jsx(Route,{path:\"/create-event-1\",element:/*#__PURE__*/_jsx(CreateEvent1,{user:user,setError:setError,error:error,navigate:navigate})}),/*#__PURE__*/_jsx(Route,{path:\"/event\",element:/*#__PURE__*/_jsx(Event,{navigate:navigate,event:event,timeslots:timeslots})})]})]});}export default App;","map":{"version":3,"sources":["/Users/aristos/Documents/Fall_2021/COEN_241/CloudComputingTermProject/client-app/src/App.js"],"names":["React","useState","BrowserRouter","Router","Routes","Route","Link","useNavigate","axios","Login","Dashboard","CreateEvent1","CreateEvent2","Event","ErrorPage","App","navigate","username","email","id","user","setUser","error","setError","event","setEvent","timeslots","setTimeslots","loadEvent","eventDetails","Loginx","details","console","log","post","then","response","data","isValid","catch","message","Logout"],"mappings":"uMAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAAQC,aAAa,GAAIC,CAAAA,MAAzB,CAAiCC,MAAjC,CAAyCC,KAAzC,CAAgDC,IAAhD,KAA4D,kBAA5D,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mBAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mBAAtB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,uCAEA,GAAIC,CAAAA,QAAQ,CAAGT,WAAW,EAA1B,CACA,cAAwBN,QAAQ,CAAC,CAACgB,QAAQ,CAAE,EAAX,CAAeC,KAAK,CAAE,EAAtB,CAA0BC,EAAE,CAAE,CAA9B,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACA,eAA0BpB,QAAQ,CAAC,EAAD,CAAlC,yCAAOqB,KAAP,eAAcC,QAAd,eACA,eAA0BtB,QAAQ,EAAlC,yCAAOuB,KAAP,eAAcC,QAAd,eACA,eAAkCxB,QAAQ,EAA1C,yCAAOyB,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,YAAY,CAAI,CAGhC;AACA;AACA;AACA;AACA;AAEAJ,QAAQ,CAACI,YAAD,CAAR,CAAuB;AAGvB;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGD,CAhCD,CAkCA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,OAAO,CAAI,CACtBC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EAEA;AACA;AACA;AACAvB,KAAK,CAAC0B,IAAN,CAAW,iCAAX,CAA8CH,OAA9C,EACCI,IADD,CACM,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,CAA2B,CACzBN,OAAO,CAACC,GAAR,CAAY,WAAZ,EACAV,QAAQ,CAAC,EAAD,CAAR,CACAF,OAAO,CAAE,CAAE;AACTJ,QAAQ,CAAEc,OAAO,CAACd,QADX,CAEPC,KAAK,CAAEkB,QAAQ,CAACC,IAAT,CAAcnB,KAFd,CAGPC,EAAE,CAAEiB,QAAQ,CAACC,IAAT,CAAclB,EAHX,CAAF,CAAP,CAKAa,OAAO,CAACC,GAAR,CAAY,QAAUG,QAAQ,CAACC,IAAT,CAAclB,EAApC,EACA;AACAH,QAAQ,CAAC,YAAD,CAAR,CACD,CAXD,IAWO,CACLgB,OAAO,CAACC,GAAR,CAAY,0BAAZ,EACAV,QAAQ,CAAC,0BAAD,CAAR,CACD,CACF,CAjBD,EAkBCgB,KAlBD,CAkBO,SAAAjB,KAAK,CAAI,CACdU,OAAO,CAACC,GAAR,CAAYX,KAAZ,EACAC,QAAQ,CAACD,KAAK,CAACkB,OAAP,CAAR,CACD,CArBD,EAsBH,CA5BD,CA8BA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBpB,OAAO,CAAC,CAACJ,QAAQ,CAAE,EAAX,CAAeC,KAAK,CAAE,EAAtB,CAAD,CAAP,CACAF,QAAQ,CAAC,GAAD,CAAR,CACAgB,OAAO,CAACC,GAAR,CAAY,QAAZ,EACH,CAJD,CAMA,mBACE,oCACE,mCACI,iCACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,mBADF,EADJ,cAII,iCACE,KAAC,IAAD,EAAM,EAAE,CAAC,YAAT,uBADF,EAJJ,cAOI,iCACE,KAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,4BADF,EAPJ,cAaI,iCACE,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,mBADF,EAbJ,GADF,cAkBE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,KAAD,EAAO,KAAK,CAAEH,MAAd,CAAsB,KAAK,CAAER,KAA7B,EAAzB,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,YAAZ,CAAyB,OAAO,cAAE,KAAC,SAAD,EAAW,KAAK,CAAEA,KAAlB,CAAyB,QAAQ,CAAEC,QAAnC,CAA6C,IAAI,CAAEH,IAAnD,CAAyD,MAAM,CAAEqB,MAAjE,CAAyE,QAAQ,CAAEzB,QAAnF,CAA6F,SAAS,CAAEY,SAAxG,EAAlC,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,CAA8B,OAAO,cAAE,KAAC,YAAD,EAAc,IAAI,CAAER,IAApB,CAA0B,QAAQ,CAAEG,QAApC,CAA6C,KAAK,CAAED,KAApD,CAA2D,QAAQ,CAAEN,QAArE,EAAvC,EAHF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,cAAE,KAAC,KAAD,EAAO,QAAQ,CAAEA,QAAjB,CAA2B,KAAK,CAAEQ,KAAlC,CAAyC,SAAS,CAAEE,SAApD,EAA9B,EALF,GAlBF,GADF,CA6BD,CAED,cAAeX,CAAAA,GAAf","sourcesContent":["import React, { useState } from \"react\";\nimport {BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\";\nimport {useNavigate} from \"react-router-dom\"\nimport axios from \"axios\"\n\nimport Login from \"./pages/Login\"\nimport Dashboard from \"./pages/Dashboard\"\nimport CreateEvent1 from \"./pages/CreateEvent1\"\nimport CreateEvent2 from \"./pages/CreateEvent2\"\nimport Event from \"./pages/Event\"\nimport ErrorPage from \"./pages/ErrorPage\"\n\nfunction App() {\n  /*--------------Login----------------*/\n\n  let navigate = useNavigate()\n  const [user, setUser] = useState({username: \"\", email: \"\", id: 0})\n  const [error, setError] = useState(\"\")\n  const [event, setEvent] = useState()\n  const [timeslots, setTimeslots] = useState()\n\n  const loadEvent = eventDetails => {\n\n    \n    //axios post to get timeslots json object\n    //need to restructure object to be:\n    // collaborator0: [timeslot0, timeslot1, ...]\n    // collaborator1\n    // let server handle parsing the data and making object\n\n    setEvent(eventDetails) //pass event details to event page\n\n\n    // axios.post(\"http://localhost:4000/api/retrieve-timeslots\", {eventDetails})\n    //   .then(response => {\n    //     if (response.data) {\n    //       console.log(\"Timeslots received\");\n    //       setError(\"\")\n    //       setTimeslots(response.data)  \n\n    //       console.log(\"Timeslots\" + response.data) \n    //       navigate(`/event/${eventDetails.userid}`)\n    //     } else {\n    //       console.log(\"Couldn't retrieve-timeslots\")\n    //       setError(\"Couldn't retrieve-timeslots\")\n    //     }\n    //   })\n    //   .catch(error => {\n    //     console.log(error)\n    //     setError(error.message)\n    //   }) \n\n    \n  }\n\n  const Loginx = details => {\n      console.log(details)\n\n      //check if credentials are correct\n      //should send data to noded js to see if logged in.\n      //\n      axios.post(\"http://localhost:4000/api/login\", details)\n      .then(response => {\n        if (response.data.isValid) {\n          console.log(\"Logged in\");\n          setError(\"\")\n          setUser ({ //all these work\n            username: details.username,\n            email: response.data.email,\n            id: response.data.id\n          })  \n          console.log(\"User=\" + response.data.id)\n          //React router redirect to dashboard\n          navigate(\"/dashboard\")   \n        } else {\n          console.log(\"Credentials do not match\")\n          setError(\"Credentials do not match\")\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        setError(error.message)\n      })    \n  }\n\n  const Logout = () => {\n      setUser({username: \"\", email: \"\"});\n      navigate(\"/\")\n      console.log(\"Logout\")\n  }\n\n  return (\n    <div>\n      <ul>\n          <li>\n            <Link to=\"/\">Login</Link>\n          </li>\n          <li>\n            <Link to=\"/dashboard\">Dashboard</Link>\n          </li>\n          <li>\n            <Link to=\"/create-event-1\">Create-Event-1</Link>\n          </li>\n          {/* <li>\n            <Link to=\"/create-event-2\">Create-Event-2</Link>\n          </li> */}\n          <li>\n            <Link to=\"/event\">Event</Link>\n          </li>\n        </ul>\n      <Routes>\n        <Route path=\"/\" element={<Login Login={Loginx} error={error}/>} />\n        <Route path=\"/dashboard\" element={<Dashboard error={error} setError={setError} user={user} Logout={Logout} navigate={navigate} loadEvent={loadEvent}/>} />\n        <Route path=\"/create-event-1\" element={<CreateEvent1 user={user} setError={setError}error={error} navigate={navigate}/>} />\n        {/* <Route path=\"/create-event-2\" element={<CreateEvent2 navigate={navigate}/>} /> */}\n        <Route path=\"/event\" element={<Event navigate={navigate} event={event} timeslots={timeslots}/>} />\n        {/* <Route path=\"*\" element={<ErrorPage />} /> */}\n      </Routes>\n    </div>    \n  );\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}