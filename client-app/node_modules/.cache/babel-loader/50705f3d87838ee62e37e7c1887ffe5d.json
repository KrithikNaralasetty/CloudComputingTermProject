{"ast":null,"code":"import _slicedToArray from\"/Users/aristos/Documents/Fall_2021/COEN_241/CloudComputingTermProject/client-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(_ref){var Logout=_ref.Logout,navigate=_ref.navigate,error=_ref.error,setError=_ref.setError,user=_ref.user,loadEvent=_ref.loadEvent;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];var data={email:user.email};//console.log(data.userid)\nvar eventPageHandler=function eventPageHandler(event){loadEvent(event);};useEffect(function(){axios.post(\"http://localhost:4000/api/retrieve-events\",data)//always post when sending data\n.then(function(response){if(response.data){console.log(\"Events retrieved!\");setError(\"\");//console.log(response.data)\nsetEvents(response.data);console.log(events);}else{console.log(\"Events could not be retrieved\");setError(\"Events could not be retrieved\");}});},[]);//don't know how to only run this once asnychrnously\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-400 w-full h-screen text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-white text-7xl font-bold tracking-tight pt-52\",children:\"MeetUp\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-yellow-300 text-4xl font-medium tracking-wide py-10\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-center space-x-32 mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){navigate(\"/create-event-1\");},className:\"block rounded-lg p-10 bg-yellow-300  text-white text-4xl shadow-md\",children:\"Set Up Event\"}),/*#__PURE__*/_jsx(\"button\",{onClick:Logout,className:\" my-10 block mr-20 text-3xl border-b-2 border-yellow-300 text-yellow-300 hover:border-yellow-400 hover:text-yellow-400 cursor-pointer\",children:\"Log out\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\" w-96\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white text-3xl font-semibold text-left mb-4\",children:\"Events\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full rounded-md shadow-md bg-blue-900\",children:events.map(function(event){return/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-left \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{onClick:eventPageHandler(event),className:\"text-2xl underline\",children:event.eventname}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl\",children:[\"By \",event.owner]})]})},event.id);})})]})]})]});};export default Dashboard;","map":{"version":3,"sources":["/Users/aristos/Documents/Fall_2021/COEN_241/CloudComputingTermProject/client-app/src/pages/Dashboard.js"],"names":["React","useState","useEffect","axios","Dashboard","Logout","navigate","error","setError","user","loadEvent","events","setEvents","data","email","eventPageHandler","event","post","then","response","console","log","map","eventname","owner","id"],"mappings":"uMAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAA2D,IAAzDC,CAAAA,MAAyD,MAAzDA,MAAyD,CAAjDC,QAAiD,MAAjDA,QAAiD,CAAvCC,KAAuC,MAAvCA,KAAuC,CAAhCC,QAAgC,MAAhCA,QAAgC,CAAtBC,IAAsB,MAAtBA,IAAsB,CAAhBC,SAAgB,MAAhBA,SAAgB,CAEzE,cAA4BT,QAAQ,CAAC,EAAD,CAApC,wCAAOU,MAAP,eAAeC,SAAf,eAEA,GAAMC,CAAAA,IAAI,CAAG,CAAEC,KAAK,CAAEL,IAAI,CAACK,KAAd,CAAb,CACA;AAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAW,CAChCN,SAAS,CAACM,KAAD,CAAT,CACH,CAFD,CAKAd,SAAS,CAAC,UAAM,CACZC,KAAK,CAACc,IAAN,CAAW,2CAAX,CAAwDJ,IAAxD,CAA8D;AAA9D,CACCK,IADD,CACM,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACN,IAAb,CAAmB,CACfO,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACAb,QAAQ,CAAC,EAAD,CAAR,CACA;AAEAI,SAAS,CAACO,QAAQ,CAACN,IAAV,CAAT,CACAO,OAAO,CAACC,GAAR,CAAYV,MAAZ,EACH,CAPD,IAOO,CACHS,OAAO,CAACC,GAAR,CAAY,+BAAZ,EACAb,QAAQ,CAAC,+BAAD,CAAR,CACH,CACJ,CAbD,EAcH,CAfQ,CAeN,EAfM,CAAT,CAeO;AAIP,mBACI,aAAK,SAAS,CAAC,2CAAf,wBACI,WAAI,SAAS,CAAC,oDAAd,oBADJ,cAEI,WAAI,SAAS,CAAC,0DAAd,uBAFJ,cAGI,aAAK,SAAS,CAAC,iDAAf,wBACI,oCACI,eAAQ,OAAO,CAAE,kBAAM,CAACF,QAAQ,CAAC,iBAAD,CAAR,CAA4B,CAApD,CAAqD,SAAS,CAAC,oEAA/D,0BADJ,cAGI,eAAQ,OAAO,CAAED,MAAjB,CAAyB,SAAS,CAAC,uIAAnC,qBAHJ,GADJ,cAQI,aAAK,SAAS,CAAC,OAAf,wBACI,WAAI,SAAS,CAAC,kDAAd,oBADJ,cAEI,YAAK,SAAS,CAAC,gDAAf,UACKM,MAAM,CAACW,GAAP,CAAW,SAACN,KAAD,qBACR,YAAoB,SAAS,CAAC,uBAA9B,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,WAAI,OAAO,CAAED,gBAAgB,CAACC,KAAD,CAA7B,CAAsC,SAAS,CAAC,oBAAhD,UAAsEA,KAAK,CAACO,SAA5E,EADJ,cAEI,WAAG,SAAS,CAAC,SAAb,iBAA2BP,KAAK,CAACQ,KAAjC,GAFJ,GADJ,EAAUR,KAAK,CAACS,EAAhB,CADQ,EAAX,CADL,EAFJ,GARJ,GAHJ,GADJ,CA8BH,CA7DD,CA+DA,cAAerB,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\"\n\nconst Dashboard = ({Logout, navigate, error, setError, user, loadEvent }) => {\n    \n    const [events, setEvents] = useState([])\n\n    const data = { email: user.email}\n    //console.log(data.userid)\n\n    const eventPageHandler = (event) => {\n        loadEvent(event)\n    }\n\n\n    useEffect(() => {\n        axios.post(\"http://localhost:4000/api/retrieve-events\", data) //always post when sending data\n        .then(response => {\n            if (response.data) {\n                console.log(\"Events retrieved!\");\n                setError(\"\")\n                //console.log(response.data)\n\n                setEvents(response.data)\n                console.log(events)\n            } else {\n                console.log(\"Events could not be retrieved\")\n                setError(\"Events could not be retrieved\")\n            }\n        })\n    }, []) //don't know how to only run this once asnychrnously\n    \n\n\n    return (\n        <div className=\"bg-purple-400 w-full h-screen text-center\">\n            <h1 className=\"text-white text-7xl font-bold tracking-tight pt-52\">MeetUp</h1>\n            <h2 className=\"text-yellow-300 text-4xl font-medium tracking-wide py-10\">Dashboard</h2>\n            <div className=\"flex flex-row justify-center space-x-32 mx-auto\">\n                <div>\n                    <button onClick={() => {navigate(\"/create-event-1\")}}className=\"block rounded-lg p-10 bg-yellow-300 \n                    text-white text-4xl shadow-md\">Set Up Event</button>\n                    <button onClick={Logout} className=\" my-10 block mr-20 text-3xl border-b-2 border-yellow-300 text-yellow-300 hover:border-yellow-400\n                    hover:text-yellow-400 cursor-pointer\">Log out\n                    </button>\n                </div>\n                <div className=\" w-96\">\n                    <h3 className=\"text-white text-3xl font-semibold text-left mb-4\">Events</h3>\n                    <div className=\"w-full h-full rounded-md shadow-md bg-blue-900\">\n                        {events.map((event) => (\n                            <div key={event.id} className=\"text-white text-left \">\n                                <div className=\"p-4\">\n                                    <h4 onClick={eventPageHandler(event)} className=\"text-2xl underline\">{event.eventname}</h4>\n                                    <p className=\"text-xl\">By {event.owner}</p>\n                                </div>\n                                \n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n            \n        </div>\n    )\n}\n\nexport default Dashboard"]},"metadata":{},"sourceType":"module"}